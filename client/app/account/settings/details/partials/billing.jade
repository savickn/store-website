h2 Billing Address

form.form(name='billingForm' role='form' ng-submit='billingForm.$valid && updateUser(billingForm, user._id, userUpdatesUpdates)')
	//.form-group(ng-class='{ "has-success": billingForm.country.$valid && submitted, "has-error": billingForm.country.$invalid && submitted}')
		label(for="country") Country
		input.form-control(type="select" name="country" ng-model="userUpdates.billingAddress.country" onselect='populateProvinces()' required)	
			option.form-control(name='country' value='')

	//.form-group(ng-class='{ "has-success": billingForm.email.$valid && submitted, "has-error": billingForm.email.$invalid && submitted}')
		label(for="province") Province
		input.form-control(type="select" name="province" ng-model="userUpdates.billingAddress.province" onselect='populateCities()' required)
			option.form-control(name='country' value='')

	.form-group(ng-class='{ "has-success": billingForm.street.$valid && submitted, "has-error": billingForm.street.$invalid && submitted}')
		label(for="street") Street Address
		input.form-control(type="text" name="street" placeholder="Enter a street address." ng-model="userUpdates.billingAddress.street" required)
	
	.form-group(ng-class='{ "has-success": billingForm.city.$valid && submitted, "has-error": billingForm.city.$invalid && submitted}')
		label(for="city") City
		input.form-control(type="text" name="city" ng-model="userUpdates.billingAddress.city" required)
	
	.form-group(ng-class='{ "has-success": billingForm.pobox.$valid && submitted, "has-error": billingForm.pobox.$invalid && submitted}')
		label(for="pobox") PO Box
		input.form-control(type="text" name="pobox" ng-model="userUpdates.billingAddress.pobox")
		p.help-block(ng-show='billingForm.pobox.$error.mongoose')
            | {{ errors.pobox }}

	.form-group(ng-class='{ "has-success": billingForm.aptNumber.$valid && submitted, "has-error": billingForm.aptNumber.$invalid && submitted}')
		label(for="aptNumber") Apartment Number (if applicable)
		input.form-control(type="text" name="aptNumber" ng-model="userUpdates.billingAddress.aptNumber")
		p.help-block(ng-show='billingForm.aptNumber.$error.mongoose')
            | {{ errors.aptNumber }}

	.form-group(ng-class='{ "has-success": billingForm.postalCode.$valid && submitted, "has-error": billingForm.postalCode.$invalid && submitted}')
		label(for="postalCode") Postal Code
		input.form-control(type="text" name="postalCode" ng-model="userUpdates.billingAddress.postalCode" pattern="[a-zA-Z]{1}[0-9]{1}[a-zA-Z]{1}(\s|-)?[0-9]{1}[a-zA-Z]{1}[0-9]{1}" mongoose-error='' required)
		p.help-block(ng-show='billingForm.postalCode.$error.required && submitted')
            | Please enter a postal code.
        p.help-block(ng-show='billingForm.postalCode.$error.pattern && submitted')
            | This postal code is not in the correct format. Please enter a postal code in the format 'A1A2B2'.
        p.help-block(ng-show='billingForm.postalCode.$error.mongoose')
            | {{ errors.postalCode }}

	.form-group(ng-class='{ "has-success": billingForm.nickname.$valid && submitted, "has-error": billingForm.nickname.$invalid && submitted}')
		label(for="nickname") Nickname
		input.form-control(type="text" name="nickname" ng-model="userUpdates.billingAddress.nickname" required)
		p.help-block(ng-show='billingForm.nickname.$error.required && submitted')
            | Please enter a nickname to remember this address.

    .form-group
		label(for="saveAsShipping") Save this address as a shipping address as well?
		input.form-control(type="checkbox" name="saveAsShipping" ng-model="userUpdates.billingAddress.saveAsShipping")

	button.btn.btn-primary(type='submit') Save Changes
